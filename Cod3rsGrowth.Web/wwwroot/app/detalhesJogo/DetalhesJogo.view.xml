<mvc:View xmlns:unified="sap.ui.unified" xmlns:calendar="sap.ui.unified.calendar" xmlns:uxap="sap.uxap" 
    controllerName="ui5.codersgrowth.app.detalhesJogo.DetalhesJogo"
    xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout"
	xmlns:form="sap.ui.layout.form"
	xmlns:macros="sap.fe.macros"
    displayBlock="true">
    <Page>
        <customHeader>
            <Toolbar>
                <FlexBox >
                    <Button 
                        id="idDetalhesJogoBotaoNavBack"
                        icon="sap-icon://nav-back"
                        press=".navegarParaListagem">
                    </Button>
                </FlexBox>
                <FlexBox 
                    id="idDetalhesFlexBoxHeader"
                    height="100%"
                    width="100%"
                    justifyContent="SpaceBetween"
                    alignItems="Center">
                    <Title 
                        text="{i18n>paginaJogoTitulo}"
                        titleStyle="H3"
                        class="sapUiResponsiveMargin"/>
                    <MenuButton
                        id="idDetalhesMenuBotaoHeader"
                        type="Transparent"
                        icon="sap-icon://action-settings"  
                        menuPosition="EndBottom"> 
                        <menu>
                            <Menu >
                                <MenuItem
                                    id="idDetalhesBotaoDeAparencia"
                                    text="Aparência" 
                                    icon="sap-icon://palette">
                                    <items>
                                        <MenuItem 
                                            key="botaModoClaro"
                                            id="idDetalhesBotaoModoClaro"
                                            icon="sap-icon://light-mode" 
                                            text="Claro"
                                            press=".alternarTema"/>
                                        <MenuItem 
                                            key="botaoModoEscuro"
                                            id="idDetalhesBotaoModoEscuro"
                                            icon="sap-icon://dark-mode" 
                                            text="Escuro"
                                            press=".alternarTema"/>
                                    </items>
                                </MenuItem>
                            </Menu>
                        </menu>
                    </MenuButton>
                </FlexBox>
            </Toolbar>
        </customHeader>
        <FlexBox 
            class= "sapUiResponsiveMargin"
            width="auto"
            justifyContent="SpaceBetween"
            direction="Column"
            backgroundDesign="Transparent">
            <form:SimpleForm 
                id="formDetalhesJogo"
                maxContainerCols="2"
                editable="true"
                layout="ResponsiveGridLayout"
                labelSpanM="1"
                emptySpanL="8">
                <form:toolbar>
                    <OverflowToolbar >
                        <Title 
                            id="idDetalhesTitulo"
                            text="{i18n>detalhesJogoTitulo}"
                            titleStyle="H4"/>
                        <Title 
                            id="idJogoNomeTitulo"
                            text="{jogo>/nome}"
                            titleStyle="H4"/>
                        <ToolbarSpacer />
                        <Button 
                            text="{i18n>detalhesBotaoEditarTexto}"
                            icon="sap-icon://edit"
                            iconFirst="false"
                            press=".aoClicarIrParaEdicao"/>
                        <Button 
                            text="{i18n>detalhesBotaoRemoverTexto}"
                            icon="sap-icon://delete"
                            iconFirst="false"
                            press=".aoClicarRemoverJogo"/>
                    </OverflowToolbar>
                </form:toolbar>
                <form:content>
                    <Label 
                        text="{i18n>detalhesLabelPrecoTexto}"
                        design="Bold"/>
                    <Text 
                        id="idJogoPrecoTexto"
                        text="{
                            path: 'jogo>/preco',
                            formatter: '.formatter.formatarJogosGratis'
                        }"/>
                    <Label 
                        text="{i18n>detalhesLabelGeneroTexto}"
                        design="Bold"/>
                    <Text 
                        id="idJogoGeneroTexto"
                        text="{jogo>/genero}"/>
                </form:content>
            </form:SimpleForm>
            <Table
            headerText="{i18n>tabelaJogoTitulo}"
            fixedLayout="false"
            class="sapUiResponsiveMargin"
            width="auto"
            items="{listaDeTestes>/}"
            growing="true"
            growingThreshold="10"
            sticky="ColumnHeaders,HeaderToolbar"
            updateFinished=".atualizarTitulo">
            <headerToolbar>
                <OverflowToolbar 
                    design="Transparent">
                    <Title 
                        text= "Avaliações"
                        titleStyle="H4"/>
                    <ToolbarSpacer/>
                    <SearchField 
                        width="20%"
                        liveChange="">
                        <layoutData>
                            <OverflowToolbarLayoutData
                                priority="NeverOverflow"/>
                        </layoutData>
                    </SearchField>
                    <ToolbarSeparator />
                    <Button 
                        text="{i18n>botaoAdicionar}"
                        icon="sap-icon://sys-add"
                        type="Ghost"
                        iconFirst="false"
                        press=""/>
                </OverflowToolbar>
            </headerToolbar>
            <columns>
                <Column 
                    minScreenWidth="Small"
                    demandPopin="true"
                    vAlign="Middle"
                    hAlign="Begin">
                    <Text 
                        text="{i18n>colunaResponsavelTabelaTestes}"/>
                </Column>
                <Column
                    minScreenWidth="Small"
                    demandPopin="true"
                    vAlign="Middle"
                    hAlign="Center">
                    <Text 
                        text="{i18n>colunaNotaTabelaTestes}"/>
                </Column>
                <Column
                    minScreenWidth="Small"
                    demandPopin="true"
                    vAlign="Middle"
                    hAlign="Center">
                    <Text 
                        text="{i18n>colunaAprovadoTabelaTestes}"/>
                </Column>
                <Column
                    minScreenWidth="Small"
                    demandPopin="true"
                    vAlign="Middle"
                    hAlign="Center">
                    <Text 
                        text="{i18n>colunaDataTabelaTestes}"/>
                </Column>
            </columns>
            <items>
                <ColumnListItem 
                    type="Navigation"
                    press=".aoClicarNavegarParaDetalhes">
                    <cells>
                        <ObjectIdentifier 
                            title="{listaDeTestes>nomeResponsavelDoTeste}"/>
                        <Text
                            text="{listaDeTestes>nota}"/>
                        <Text 
                            text="{
                                path: 'listaDeTestes>aprovado',
                                formatter: '.formatter.formatarStatus'
                            }"/>
                        <Text 
                            text="{listaDeTestes>dataRealizacaoTeste}"/>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
        </FlexBox>
    </Page>
</mvc:View>